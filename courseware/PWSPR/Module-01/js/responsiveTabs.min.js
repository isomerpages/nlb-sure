// ResponsiveTabs.js | Version:1.5 | Author:Pete Love | www.petelove.com
var RESPONSIVEUI={};RESPONSIVEUI.responsiveTabs=function(){if(!$(".tabs").hasClass("enabled")){$(".tabs").addClass("enabled");var e=1;$(".tabs").each(function(){var t=$(this);t.children("h1,h2,h3,h4,h5,h6").addClass("tab-heading");t.children("div").addClass("tab-panel");var n=t.find(".active-panel");if(!n.length){var n=t.find(".tab-panel").first().addClass("active-panel")}t.find(".tab-panel").not(".active-panel").hide().attr("aria-hidden","true");n.attr("aria-hidden","false");n.addClass("hidden-mobile");var r=$("<div/>",{"class":"tabs-wrapper"});t.wrap(r);var i=0;t.find(".tab-panel").each(function(){var e=$(this).height();if(e>i){i=e}});var s=$("<ul/>",{"class":"tab-list",role:"tablist"});var o=1;t.find(".tab-heading").each(function(){var n=$(this);var u=$(this).next();n.attr("tabindex",0);var a=$("<li/>",{"class":"tab",id:"tablist"+e+"-tab"+o,"aria-controls":"tablist"+e+"-panel"+o,role:"tab",tabindex:0,text:n.text(),keydown:function(e){if(e.keyCode==13){a.click()}},click:function(){r.css("height",i);t.find(".hidden-mobile").removeClass("hidden-mobile");t.find(".active-panel").toggle().removeClass("active-panel").attr("aria-hidden","true").prev().removeClass("active-tab-heading");u.toggle().addClass("active-panel").attr("aria-hidden","false");n.addClass("active-tab-heading");s.find(".active-tab").removeClass("active-tab");a.addClass("active-tab");r.css("height","auto")}});u.attr({role:"tabpanel","aria-labelledby":a.attr("id"),id:"tablist"+e+"-panel"+o});if(u.hasClass("active-panel")){a.addClass("active-tab")}s.append(a);n.keydown(function(e){if(e.keyCode==13){n.click()}});n.click(function(){t.find(".hidden-mobile").removeClass("hidden-mobile");if(!n.hasClass("active-tab-heading")){if($(".active-tab-heading").length){var e=$(".active-tab-heading").offset().top}t.find(".active-panel").slideToggle().removeClass("active-panel").prev().removeClass("active-tab-heading");t.find(".tab-panel").hide().attr("aria-hidden","true");u.slideToggle().addClass("active-panel").attr("aria-hidden","false");n.addClass("active-tab-heading");var r=t.find(".active-tab");r.removeClass("active-tab");var i=u.attr("id");var s=i.replace("panel","tab");$("#"+s).addClass("active-tab");var o=$(".tabs").offset().top;var a=$(".active-tab-heading").offset().top;if(e<a){$("html, body").animate({scrollTop:o},0).animate({scrollTop:a},400)}}else{u.removeClass("active-panel").slideToggle(function(){$(this).addClass("hidden-mobile")});n.removeClass("active-tab-heading")}});o++});t.prepend(s);e++})}}